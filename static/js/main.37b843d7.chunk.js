(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{127:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),i=n.n(o),l=n(31),c=n(21),s=n(32),u=n(23);s.b.add(u.b,u.c,u.g,u.d,u.a,u.e,u.f);n(88),n(89);var d=n(20),p=n(13),m=n(69),f=n(3),E=n(4);function g(){var e=Object(f.a)(["\n  border: 1px solid #eee;\n  width: 500px;\n  min-height: 200px;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 1rem;\n  box-shadow: 0 4px 6px 0 rgba(0, 0, 0, 0.1);\n"]);return g=function(){return e},e}function b(){var e=Object(f.a)(["\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return b=function(){return e},e}var h=E.b.div(b()),v=E.b.div(g()),y=n(73),O=n.n(y),x=Object(c.g)((function(e){var t=e.history;return r.a.createElement(h,null,r.a.createElement(v,null,r.a.createElement("img",{src:O.a,alt:"logo",width:"100"}),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h1",{className:"mb-3"},"Fa\xe7a login com sua conta google"),r.a.createElement(m.GoogleLogin,{clientId:"1015749006092-v6s00reo7n6g74pbshn9t8m9mf0che12.apps.googleusercontent.com",redirectUri:"http://localhost:3000",scope:"profile email https://www.googleapis.com/auth/youtube https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/youtube.upload https://www.googleapis.com/auth/youtubepartner-channel-audit",buttonText:"Entrar com sua conta google",onSuccess:function(e){localStorage.setItem("profile",JSON.stringify(Object(p.a)({},e.profileObj))),localStorage.setItem("token",e.accessToken),t.push("/playando")},onFailure:function(){return d.b.error("Ocorreu um erro ao autenticar. Tente novamente.")}}))))})),w=n(28),S=n(14);function V(){var e=Object(f.a)(["\n  @media (max-width: 768px) {\n    display: none;\n  }\n  margin-right: 1.5rem;\n  small {\n    font-weight: 200;\n  }\n"]);return V=function(){return e},e}function j(){var e=Object(f.a)(["\n  border-radius: 50%;\n  width: 50px;\n  box-shadow: 0 4px 6px 0 rgba(0, 0, 0, 0.1);\n"]);return j=function(){return e},e}var _=E.b.img(j()),T=E.b.div(V()),C=n(29),I=n(16),D=function(e){var t=e.onSubmit,n=e.children,a=e.initialValues,o=Object(C.a)(e,["onSubmit","children","initialValues"]);return r.a.createElement(I.b,{initialValues:a,onSubmit:t},r.a.createElement(I.a,o,n))};D.defaultProps={initialValues:{}};var F=D;function N(){var e=Object(f.a)(["\n  width: 100%;\n\n  input {\n    border: 1px solid #eee;\n    border-radius: 3px;\n    width: 100%;\n    padding: 0.3rem 0.5rem;\n    font-size: 14px;\n  }\n"]);return N=function(){return e},e}var k=E.b.div(N()),L=function(e){var t=e.label,n=(e.className,e.onChange),a=Object(C.a)(e,["label","className","onChange"]),o=Object(I.c)(a),i=Object(w.a)(o,2),l=i[0],c=i[1],s=Object(I.d)().setFieldValue;return r.a.createElement(k,null,r.a.createElement("div",null,r.a.createElement("input",Object.assign({},l,a,{onChange:function(e){s(l.name,e.target.value),n&&n(e.target.value)}})),r.a.createElement("label",{htmlFor:l.name},t)),c.error&&r.a.createElement("span",null,c.error))};L.defaultProps={onChange:null,label:"",className:""};var M=L,P=n(77),A=n.n(P);function R(){var e=Object(f.a)(["\n  border-radius: 50%;\n  position: ",";\n  left: ",";\n  right: ",";\n  bottom: 3rem;\n  box-shadow: 0 4px 6px 0 rgba(0, 0, 0, 0.1);\n  background: ",";\n  width: 40px;\n  height: 40px;\n  color: ",";\n\n  &:disabled {\n    opacity: 0.5;\n  }\n"]);return R=function(){return e},e}var U=E.b.button(R(),(function(e){return e.absolute?"absolute":"inherit"}),(function(e){return e.left?"20px":"inherit"}),(function(e){return e.right?"20px":"inherit"}),(function(e){return function(e){switch(e){case"primary":return"#CC6100";case"success":return"#99CC33";default:return"#E2E8F0"}}(e.color)}),(function(e){return function(e){switch(e){case"primary":case"success":return"#FFFFFF";default:return"#333333"}}(e.color)})),J=function(e){var t=e.title,n=e.children,a=e.isModalOpen,o=e.onCloseModal;return r.a.createElement(A.a,{isOpen:a},t&&r.a.createElement("div",{className:"flex justify-between items-center"},r.a.createElement("h2",null,t),r.a.createElement(U,{type:"button",onClick:o},r.a.createElement(S.a,{icon:"times"}))),r.a.createElement("div",{className:"mt-3"},n))};J.defaultProps={title:"",isModalOpen:!1};var z=J,B=n(27),G=function(){return r.a.createElement("div",{className:"flex items-center justify-center h-screen"},r.a.createElement(S.a,{className:"text-orange-600",size:"3x",icon:"spinner",pulse:!0}))};function q(){var e=Object(f.a)(["\n  margin-top: 2rem;\n  text-align: center;\n  font-size: 22px;\n  letter-spacing: 1px;\n  font-weight: 600;\n"]);return q=function(){return e},e}var W=E.b.div(q()),$=n(25),H=n(78),K=n.n(H),Q=B.b.div({enter:{y:0,opacity:1,delay:300,transition:{y:{type:"spring",stiffness:1e3,damping:15},default:{duration:300}}},exit:{y:50,opacity:0,transition:{duration:150}}});function X(){var e=Object(f.a)(["\n  position: relative;\n  box-shadow: 0 4px 6px 0 rgba(0, 0, 0, 0.1);\n"]);return X=function(){return e},e}var Y=E.b.div(X());function Z(){var e=Object(f.a)(["\n  text-overflow: ellipsis;\n  overflow: hidden; \n  width: 400px;\n  height: 1.4em; \n  white-space: nowrap;\n"]);return Z=function(){return e},e}var ee=E.b.p(Z()),te=function(e){var t=e.number,n=e.label;return r.a.createElement("div",{className:"font-bold mt-4 p-3"},r.a.createElement(ee,null,r.a.createElement("span",{className:"text-orange-600 mr-2"},t,"."),n))},ne=Object(a.createContext)(),ae=function(e){var t=e.isPlaying,n=e.video,o=e.onRemoveVideo,i=e.onChangeVideoStatus,l=e.index,c=e.onAddVideo,s=Object(C.a)(e,["isPlaying","video","onRemoveVideo","onChangeVideoStatus","index","onAddVideo"]),u=Object(a.useContext)(ne).selectedVideos.some((function(e){return e.id===n.id}));return r.a.createElement(Q,s,r.a.createElement(Y,null,r.a.createElement(K.a,{url:"https://www.youtube.com/watch?v=".concat(n.id),playing:t===n.id,width:"250"}),r.a.createElement(U,{left:!0,absolute:!0,color:"primary",type:"button",onClick:function(){return i(t===n.id?null:n.id)}},t===n.id?r.a.createElement(S.a,{icon:"pause"}):r.a.createElement(S.a,{icon:"play"})),o?r.a.createElement(U,{right:!0,absolute:!0,type:"button",onClick:function(){return o(n)}},r.a.createElement(S.a,{icon:"times"})):r.a.createElement(U,{right:!0,absolute:!0,color:"success",type:"button",onClick:function(){return c(n)},disabled:u},r.a.createElement(S.a,{icon:u?"minus":"plus"})),r.a.createElement(te,{number:l,label:Object($.get)(n,"snippet.title")})))};ae.defaultProps={isPlaying:null,onRemoveVideo:null,onAddVideo:function(){}};var re=ae;function oe(){var e=Object(f.a)(["\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-columns: repeat(",", 1fr);\n  @media (max-width: 768px) {\n    grid-template-columns: repeat(1, 1fr);\n  }\n"]);return oe=function(){return e},e}var ie=E.b.div(oe(),(function(e){return e.columns})),le=function(){var e=Object(a.useContext)(ne),t=e.isPlaying,n=e.handleAddVideo,o=e.handleVideo,i=e.loadingVideos,l=e.videos;return i?r.a.createElement(G,null):0===l.length?r.a.createElement(W,null,"Nenhum V\xeddeo encontrado :C"):r.a.createElement(ie,{columns:"2"},r.a.createElement(B.a,null,l.map((function(e,a){return r.a.createElement(re,{key:e.id,index:a+1,isPlaying:t,video:e,onAddVideo:n,onChangeVideoStatus:o})}))))},ce=function(){var e=Object(a.useContext)(ne),t=e.isVideosModalOpen,n=e.handleModal;return r.a.createElement(z,{title:"Selecione os v\xeddeos que deseja salvar",isModalOpen:t,onCloseModal:n},r.a.createElement(le,null))};function se(){var e=Object(f.a)(["\n  background: ",";\n  color: ",";\n  padding: 0.3rem 0;\n  height: 100%;\n  border: 1px solid ",";\n  box-shadow: 0px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12);\n  min-width: 150px;\n  border-radius: 4px;\n  letter-spacing: 0.02857em;\n  text-transform: uppercase;\n  font-size: 14px;\n  margin-left: 0.5rem;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    margin-top: 0.5rem;\n    margin-left: 0;\n  }\n"]);return se=function(){return e},e}var ue=function(e){switch(e){case"primary":return"#CC6100";case"danger":return"#CC3300";case"warning":return"#FFCC00";case"success":return"#99CC33";default:return"#E2E8F0"}},de=E.b.button(se(),(function(e){return ue(e.action)}),(function(e){return e.action&&"#FFFFFF"}),(function(e){return ue(e.action)}));function pe(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 1rem;\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n"]);return pe=function(){return e},e}var me=E.b.div(pe()),fe=function(){var e=Object(a.useContext)(ne),t=e.handleFilter,n=e.isFiltering,o=Object(I.d)(),i=o.values,l=o.setFieldValue;return r.a.createElement(me,null,r.a.createElement(M,{type:"text",name:"filter",placeholder:"palavras-chave"}),r.a.createElement(de,{disabled:!Object($.get)(i,"filter",""),type:"button",onClick:function(){n&&l("filter",""),t(i)}},n?"Limpar filtro":"Filtrar"))},Ee=function(){var e=Object(I.d)(),t=e.setFieldValue,n=e.values,o=Object(a.useContext)(ne),i=o.isValueURL,l=o.isUrl,c=o.getVideos,s=o.loadingVideos;return r.a.createElement(me,null,r.a.createElement(M,{onChange:i,type:"text",name:"search",placeholder:"link ou t\xedtulo do v\xeddeo"}),l?r.a.createElement(de,{action:"primary",type:"button",onClick:function(){t("search",""),c(n)},disabled:s},"Adicionar"):r.a.createElement(de,{action:"primary",type:"submit",disabled:s},"Buscar"))},ge=function(){var e=Object(a.useContext)(ne),t=e.isPlaying,n=e.selectedVideos,o=e.handleRemoveVideo,i=e.handleVideo,l=e.loadingVideos;return e.isUrl&&l?r.a.createElement(G,null):0===n.length?r.a.createElement(W,null,"Nenhum v\xeddeo adicionado. Pesquise seus v\xeddeos favoritos"):r.a.createElement(ie,{columns:"2",className:"mt-3"},r.a.createElement(B.a,{animateOnMount:!0},n.map((function(e,n){return r.a.createElement(re,{key:e.id,index:n+1,isPlaying:t,video:e,onRemoveVideo:o,onChangeVideoStatus:i})}))))},be=n(79),he=n.n(be),ve=Object(c.g)((function(e){var t=e.history,n=Object(a.useContext)(ne).getVideos,o=Object(a.useState)({}),i=Object(w.a)(o,2),l=i[0],c=i[1];Object(a.useEffect)((function(){c(JSON.parse(localStorage.getItem("profile")))}),[]);return r.a.createElement(F,{onSubmit:n,className:"container mx-auto p-4"},r.a.createElement("div",{className:"flex justify-between items-center"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("img",{src:he.a,width:"50px",className:"mr-2",alt:"pelando-logo"}),r.a.createElement("h1",{className:"text-4xl"},"Playando")),r.a.createElement("div",{className:"flex items-center"},r.a.createElement(_,{src:l.imageUrl,alt:"profile-pic",className:"mr-3"}),r.a.createElement(T,null,r.a.createElement("h2",null,l.name),r.a.createElement("small",null,l.email)),r.a.createElement(U,{type:"button",onClick:function(){localStorage.clear(),t.push("/login")}},r.a.createElement(S.a,{icon:"sign-out-alt"})))),r.a.createElement(Ee,null),r.a.createElement("hr",{className:"mb-2 mt-2 border-orange-600 border-2"}),r.a.createElement(fe,null),r.a.createElement(ge,null),r.a.createElement(ce,null))})),ye=n(22),Oe=n.n(ye),xe=n(30),we=n(33),Se=function(e,t){var n=t.payload,a=t.type,r=e.selectedVideos,o=e.isVideosModalOpen;switch(a){case"SET_VIDEOS":return Object(p.a)({},e,{videos:n.items,loadingVideos:!1});case"SET_SELECTED_VIDEOS":return Object(p.a)({},e,{selectedVideos:n});case"SET_MODAL":return Object(p.a)({},e,{isVideosModalOpen:!o});case"SET_IS_URL":return Object(p.a)({},e,{isUrl:n});case"SET_SELECTED_VIDEO":return Object(p.a)({},e,{selectedVideos:[].concat(Object(xe.a)(r),[n]),isUrl:!1});case"REMOVE_SELECTED_VIDEO":return Object(p.a)({},e,{selectedVideos:r.filter((function(e){return e.id!==n}))});case"SET_VIDEOS_FILTER":return Object(p.a)({},e,{isFiltering:n});case"SET_VIDEO_STATUS":return Object(p.a)({},e,{isPlaying:n});case"SET_VIDEO_LOADING":return Object(p.a)({},e,{loadingVideos:n});default:return e}},Ve=n(50),je=n.n(Ve),_e="https://www.googleapis.com/youtube/v3",Te=function(){var e=Object(we.a)(Oe.a.mark((function e(t){var n;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.get("".concat(_e,"/search"),{params:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(we.a)(Oe.a.mark((function e(t){var n;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.get("".concat(_e,"/videos"),{params:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=Object(c.g)((function(e){var t=e.children,n=e.history,o=Object(a.useReducer)(Se,{isVideosModalOpen:!1,isUrl:!1,isFiltering:!1,loadingVideos:!1,isPlaying:null,videos:[],selectedVideos:[]}),i=Object(w.a)(o,2),l=i[0],c=i[1],s=l.isVideosModalOpen,u=l.videos,p=l.loadingVideos,m=l.isUrl,f=l.selectedVideos,E=l.isFiltering,g=l.isPlaying;Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("videos"))||[];c({type:"SET_SELECTED_VIDEOS",payload:e})}),[]);var b=function(){var e=Object(we.a)(Oe.a.mark((function e(t){var a,r,o,i,l,s,u;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"SET_VIDEO_LOADING",payload:!0}),m||c({type:"SET_MODAL"}),e.prev=2,a=localStorage.getItem("token"),r={access_token:a,token_type:"Bearer",expires_in:3920,scope:"https://www.googleapis.com/auth/youtube, https://www.googleapis.com/auth/youtube.readonly, https://www.googleapis.com/auth/youtube.upload, https://www.googleapis.com/auth/youtubepartner-channel-audit",q:t.search,part:"id, snippet",maxResults:4},e.next=7,Te(r);case 7:return o=e.sent,i=o.items.map((function(e){return e.id.videoId})),l={access_token:a,token_type:"Bearer",expires_in:3920,scope:"https://www.googleapis.com/auth/drive.file",id:i.join(", "),part:"snippet, player"},e.next=12,Ce(l);case 12:s=e.sent,m?f.some((function(e){return s.items[0].id===e.id}))?(d.b.warn("Opa! Voc\xea j\xe1 adicionou esse v\xeddeo"),c({type:"SET_IS_URL",payload:!1})):(c({type:"SET_SELECTED_VIDEO",payload:s.items[0]}),localStorage.setItem("videos",JSON.stringify([].concat(Object(xe.a)(f),[s.items[0]])))):c({type:"SET_VIDEOS",payload:s}),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(2),m||c({type:"SET_MODAL"}),401===(u=e.t0.response.status)||403===u?(d.b.error("Suas credenciais n\xe3o s\xe3o validas. Fa\xe7a login novamente."),n.push("/login")):d.b.error("Ocorreu um erro inesperado. Tente Novamente.");case 21:c({type:"SET_VIDEO_LOADING",payload:!1});case 22:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),h=Object($.debounce)((function(e){c({type:"SET_IS_URL",payload:/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-/]))?/.test(e)})}),100),v=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()};return r.a.createElement(ne.Provider,{value:{isVideosModalOpen:s,videos:u,isUrl:m,selectedVideos:f,isFiltering:E,isPlaying:g,loadingVideos:p,handlePlay:function(){c({type:"SET_VIDEO_STATUS",payload:!0})},handlePause:function(){c({type:"SET_VIDEO_STATUS",payload:!1})},getVideos:b,isValueURL:h,handleAddVideo:function(e){c({type:"SET_SELECTED_VIDEO",payload:e}),localStorage.setItem("videos",JSON.stringify([].concat(Object(xe.a)(f),[e])))},handleRemoveVideo:function(e){c({type:"REMOVE_SELECTED_VIDEO",payload:e.id});var t=f.filter((function(t){return t.id!==e.id}));localStorage.setItem("videos",JSON.stringify(t))},handleVideo:function(e){c({type:"SET_VIDEO_STATUS",payload:e})},handleModal:function(){c({type:"SET_MODAL"})},handleFilter:function(e){if(E){var t=JSON.parse(localStorage.getItem("videos"));c({type:"SET_SELECTED_VIDEOS",payload:t}),c({type:"SET_VIDEOS_FILTER",payload:!1})}else{var n=f.filter((function(t){var n;return(n=v(Object($.get)(t,"snippet.title","")).split(" ")).includes.apply(n,Object(xe.a)(v(e.filter).split(" ")))}));c({type:"SET_SELECTED_VIDEOS",payload:n}),c({type:"SET_VIDEOS_FILTER",payload:!0})}}}},t)})),De=function(){return r.a.createElement(Ie,null,r.a.createElement(ve,null))};function Fe(){var e=Object(f.a)(["\n  body {\n    font-family: 'Open Sans', sans-serif;\n    font-color: ",";\n  }\n"]);return Fe=function(){return e},e}var Ne=Object(E.a)(Fe(),"#333333"),ke=function(){return r.a.createElement(l.a,null,r.a.createElement(Ne,null),r.a.createElement(d.a,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/playando",component:De}),r.a.createElement(c.b,{exact:!0,path:"/login",component:x}),r.a.createElement(c.a,{to:"/login"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,n){e.exports=n.p+"static/media/pelando.b49d27aa.png"},79:function(e,t,n){e.exports=n.p+"static/media/pelando-icon.87658c72.png"},81:function(e,t,n){e.exports=n(127)},88:function(e,t,n){}},[[81,1,2]]]);
//# sourceMappingURL=main.37b843d7.chunk.js.map